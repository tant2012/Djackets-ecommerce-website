{"remainingRequest":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/terrence/playground/Djackets/djackets_vue/src/views/Checkout.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/terrence/playground/Djackets/djackets_vue/src/views/Checkout.vue","mtime":1649611202576},{"path":"/Users/terrence/playground/Djackets/djackets_vue/babel.config.js","mtime":1649483312732},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1649534107741},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1649534104873}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90ZXJyZW5jZS9wbGF5Z3JvdW5kL0RqYWNrZXRzL2RqYWNrZXRzX3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBodHRwIGZyb20gIkAvdXRpbHMvaHR0cCI7CmltcG9ydCB7IHJlYWN0aXZlLCByZWYsIG9uTW91bnRlZCwgY29tcHV0ZWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gIkAvc3RvcmUiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfX3Byb3BzLCBfcmVmKSB7CiAgICB2YXIgZXhwb3NlID0gX3JlZi5leHBvc2U7CiAgICBleHBvc2UoKTsKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICB2YXIgYnV5ZXJEZXRhaWxzID0gcmVhY3RpdmUoewogICAgICBzdHJpcGU6IHt9LAogICAgICBjYXJkOiB7fSwKICAgICAgZmlyc3RfbmFtZTogIiIsCiAgICAgIGxhc3RfbmFtZTogIiIsCiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGhvbmU6ICIiLAogICAgICBhZGRyZXNzOiAiIiwKICAgICAgemlwY29kZTogIiIsCiAgICAgIHBsYWNlOiAiIiwKICAgICAgZXJyb3JzOiBbXQogICAgfSk7CiAgICB2YXIgY2FydCA9IHJlZih7CiAgICAgIGl0ZW1zOiBbXQogICAgfSk7CiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBkb2N1bWVudC50aXRsZSA9ICJDaGVja291dCB8IERqYWNrZXRzIjsKICAgICAgY2FydC52YWx1ZSA9IHN0b3JlLmNhcnQ7CgogICAgICBpZiAoY2FydFRvdGFsTGVuZ3RoLnZhbHVlID4gMCkgewogICAgICAgIGJ1eWVyRGV0YWlscy5zdHJpcGUgPSBTdHJpcGUoInBrX3Rlc3RfNTFLbjM0ZUxZSzdlNUNJM3lNTVRDcVp2RmV2cnVaUGhTTHRLMHA5b1Z0RFp3c0pLOHp0NkJyMEhOak5OT3RHTU5YUEU4YW03OTM5WE91TkswQWx2TmNvT1QwMG56dDR6ZnZyIik7CiAgICAgICAgdmFyIGVsZW1lbnRzID0gYnV5ZXJEZXRhaWxzLnN0cmlwZS5lbGVtZW50cygpOwogICAgICAgIGJ1eWVyRGV0YWlscy5jYXJkID0gZWxlbWVudHMuY3JlYXRlKCJjYXJkIiwgewogICAgICAgICAgaGlkZVBvc3RhbENvZGU6IHRydWUKICAgICAgICB9KTsKICAgICAgICBidXllckRldGFpbHMuY2FyZC5tb3VudCgiI2NhcmQtZWxlbWVudCIpOwogICAgICB9CiAgICB9KTsKICAgIHZhciBjYXJ0VG90YWxMZW5ndGggPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBjYXJ0LnZhbHVlLml0ZW1zLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXJWYWwpIHsKICAgICAgICByZXR1cm4gYWNjICs9IGN1clZhbC5xdWFudGl0eTsKICAgICAgfSwgMCk7CiAgICB9KTsKICAgIHZhciBjYXJ0VG90YWxQcmljZSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGNhcnQudmFsdWUuaXRlbXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1clZhbCkgewogICAgICAgIHJldHVybiBhY2MgKz0gY3VyVmFsLnByb2R1Y3QucHJpY2UgKiBjdXJWYWwucXVhbnRpdHk7CiAgICAgIH0sIDApOwogICAgfSk7CgogICAgdmFyIGdldEl0ZW1Ub3RhbCA9IGZ1bmN0aW9uIGdldEl0ZW1Ub3RhbChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLnF1YW50aXR5ICogaXRlbS5wcm9kdWN0LnByaWNlOwogICAgfTsKCiAgICB2YXIgc3VibWl0Rm9ybSA9IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIGJ1eWVyRGV0YWlscy5lcnJvcnMgPSBbXTsKCiAgICAgIGlmIChidXllckRldGFpbHMuZmlyc3RfbmFtZSA9PT0gIiIpIHsKICAgICAgICBidXllckRldGFpbHMuZXJyb3JzLnB1c2goIlRoZSBmaXJzdCBuYW1lIGZpZWxkIGlzIG1pc3NpbmchIik7CiAgICAgIH0KCiAgICAgIGlmIChidXllckRldGFpbHMubGFzdF9uYW1lID09PSAiIikgewogICAgICAgIGJ1eWVyRGV0YWlscy5lcnJvcnMucHVzaCgiVGhlIGxhc3QgbmFtZSBmaWVsZCBpcyBtaXNzaW5nISIpOwogICAgICB9CgogICAgICBpZiAoYnV5ZXJEZXRhaWxzLmVtYWlsID09PSAiIikgewogICAgICAgIGJ1eWVyRGV0YWlscy5lcnJvcnMucHVzaCgiVGhlIGVtYWlsIGZpZWxkIGlzIG1pc3NpbmchIik7CiAgICAgIH0KCiAgICAgIGlmIChidXllckRldGFpbHMucGhvbmUgPT09ICIiKSB7CiAgICAgICAgYnV5ZXJEZXRhaWxzLmVycm9ycy5wdXNoKCJUaGUgcGhvbmUgZmllbGQgaXMgbWlzc2luZyEiKTsKICAgICAgfQoKICAgICAgaWYgKGJ1eWVyRGV0YWlscy5hZGRyZXNzID09PSAiIikgewogICAgICAgIGJ1eWVyRGV0YWlscy5lcnJvcnMucHVzaCgiVGhlIGFkZHJlc3MgZmllbGQgaXMgbWlzc2luZyEiKTsKICAgICAgfQoKICAgICAgaWYgKGJ1eWVyRGV0YWlscy56aXBjb2RlID09PSAiIikgewogICAgICAgIGJ1eWVyRGV0YWlscy5lcnJvcnMucHVzaCgiVGhlIHppcCBjb2RlIGZpZWxkIGlzIG1pc3NpbmchIik7CiAgICAgIH0KCiAgICAgIGlmIChidXllckRldGFpbHMucGxhY2UgPT09ICIiKSB7CiAgICAgICAgYnV5ZXJEZXRhaWxzLmVycm9ycy5wdXNoKCJUaGUgcGxhY2UgZmllbGQgaXMgbWlzc2luZyEiKTsKICAgICAgfQoKICAgICAgaWYgKCFidXllckRldGFpbHMuZXJyb3JzLmxlbmd0aCkgewogICAgICAgIHN0b3JlLnNldElzTG9hZGluZyh0cnVlKTsKICAgICAgICBidXllckRldGFpbHMuc3RyaXBlLmNyZWF0ZVRva2VuKGJ1eWVyRGV0YWlscy5jYXJkKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHsKICAgICAgICAgICAgc3RvcmUuc2V0SXNMb2FkaW5nKGZhbHNlKTsKICAgICAgICAgICAgYnV5ZXJEZXRhaWxzLmVycm9ycy5wdXNoKCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIFN0cmlwZS4gUGxlYXNlIHRyeSBhZ2FpbiIpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdHJpcGVUb2tlbkhhbmRsZXIocmVzdWx0LnRva2VuKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgc3RyaXBlVG9rZW5IYW5kbGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRva2VuKSB7CiAgICAgICAgdmFyIGl0ZW1zLCBpLCBpdGVtLCBvYmosIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaXRlbXMgPSBbXTsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2FydC52YWx1ZS5pdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBpdGVtID0gY2FydC52YWx1ZS5pdGVtc1tpXTsKICAgICAgICAgICAgICAgICAgb2JqID0gewogICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IGl0ZW0ucHJvZHVjdC5pZCwKICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSwKICAgICAgICAgICAgICAgICAgICBwcmljZTogaXRlbS5wcm9kdWN0LnByaWNlICogaXRlbS5xdWFudGl0eQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogYnV5ZXJEZXRhaWxzLmZpcnN0X25hbWUsCiAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogYnV5ZXJEZXRhaWxzLmxhc3RfbmFtZSwKICAgICAgICAgICAgICAgICAgZW1haWw6IGJ1eWVyRGV0YWlscy5lbWFpbCwKICAgICAgICAgICAgICAgICAgYWRkcmVzczogYnV5ZXJEZXRhaWxzLmFkZHJlc3MsCiAgICAgICAgICAgICAgICAgIHppcGNvZGU6IGJ1eWVyRGV0YWlscy56aXBjb2RlLAogICAgICAgICAgICAgICAgICBwbGFjZTogYnV5ZXJEZXRhaWxzLnBsYWNlLAogICAgICAgICAgICAgICAgICBwaG9uZTogYnV5ZXJEZXRhaWxzLnBob25lLAogICAgICAgICAgICAgICAgICBpdGVtczogaXRlbXMsCiAgICAgICAgICAgICAgICAgIHN0cmlwZV90b2tlbjogdG9rZW4uaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBodHRwLnBvc3QoIi92MS9jaGVja291dC8iLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBzdG9yZS5jbGVhckNhcnQoKTsKICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goIi9jYXJ0L3N1Y2Nlc3MiKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBidXllckRldGFpbHMuZXJyb3JzLnB1c2goIlNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIik7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBzdG9yZS5zZXRJc0xvYWRpbmcoZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHN0cmlwZVRva2VuSGFuZGxlcihfeCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBfX3JldHVybmVkX18gPSB7CiAgICAgIHN0b3JlOiBzdG9yZSwKICAgICAgYnV5ZXJEZXRhaWxzOiBidXllckRldGFpbHMsCiAgICAgIGNhcnQ6IGNhcnQsCiAgICAgIGNhcnRUb3RhbExlbmd0aDogY2FydFRvdGFsTGVuZ3RoLAogICAgICBjYXJ0VG90YWxQcmljZTogY2FydFRvdGFsUHJpY2UsCiAgICAgIGdldEl0ZW1Ub3RhbDogZ2V0SXRlbVRvdGFsLAogICAgICBzdWJtaXRGb3JtOiBzdWJtaXRGb3JtLAogICAgICBzdHJpcGVUb2tlbkhhbmRsZXI6IHN0cmlwZVRva2VuSGFuZGxlciwKICAgICAgaHR0cDogaHR0cCwKICAgICAgcmVhY3RpdmU6IHJlYWN0aXZlLAogICAgICByZWY6IHJlZiwKICAgICAgb25Nb3VudGVkOiBvbk1vdW50ZWQsCiAgICAgIGNvbXB1dGVkOiBjb21wdXRlZCwKICAgICAgdXNlU3RvcmU6IHVzZVN0b3JlLAogICAgICByb3V0ZXI6IHJvdXRlcgogICAgfTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3JldHVybmVkX18sICdfX2lzU2NyaXB0U2V0dXAnLCB7CiAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gX19yZXR1cm5lZF9fOwogIH0KfTs="},{"version":3,"mappings":"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","names":["http","reactive","ref","onMounted","computed","useStore","router","store","buyerDetails","stripe","card","first_name","last_name","email","phone","address","zipcode","place","errors","cart","items","document","title","value","cartTotalLength","Stripe","elements","create","hidePostalCode","mount","reduce","acc","curVal","quantity","cartTotalPrice","product","price","getItemTotal","item","submitForm","push","length","setIsLoading","createToken","then","result","error","console","log","message","stripeTokenHandler","token","i","obj","id","data","stripe_token","post","response","clearCart","catch"],"sources":["/Users/terrence/playground/Djackets/djackets_vue/src/views/Checkout.vue"],"sourcesContent":["<template>\n  <div class=\"page-checkout\">\n    <div class=\"column is-multiline\">\n      <div class=\"column is-12\">\n        <h1 class=\"title\">Checkout</h1>\n      </div>\n\n      <div class=\"column is-12 box\">\n        <table class=\"table is-fullwidth\" v-if=\"cartTotalLength\">\n          <thead>\n            <tr>\n              <th>Product</th>\n              <th>Price</th>\n              <th>Quantity</th>\n              <th>Total</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr v-for=\"item in cart.items\" :key=\"item.product.id\">\n              <td>{{ item.product.name }}</td>\n              <td>${{ item.product.price }}</td>\n              <td>\n                {{ item.quantity }}\n              </td>\n              <td>{{ getItemTotal(item).toFixed(2) }}</td>\n            </tr>\n          </tbody>\n\n          <tfoot>\n            <tr>\n              <td colspan=\"2\">Total</td>\n              <td>{{ cartTotalLength }}</td>\n              <td>${{ cartTotalPrice.toFixed(2) }}</td>\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n\n      <div class=\"column is-12 box\">\n        <h2 class=\"subtitle\">Shipping details</h2>\n\n        <p class=\"has-text-grey mb-4\">* All fields are required</p>\n\n        <div class=\"columns is-multiline\">\n          <div class=\"column is-6\">\n            <div class=\"field\">\n              <label>First name*</label>\n              <div class=\"control\">\n                <input\n                  type=\"text\"\n                  class=\"input\"\n                  v-model=\"buyerDetails.first_name\"\n                />\n              </div>\n            </div>\n\n            <div class=\"field\">\n              <label>Last name*</label>\n              <div class=\"control\">\n                <input\n                  type=\"text\"\n                  class=\"input\"\n                  v-model=\"buyerDetails.last_name\"\n                />\n              </div>\n            </div>\n\n            <div class=\"field\">\n              <label>E-mail*</label>\n              <div class=\"control\">\n                <input\n                  type=\"email\"\n                  class=\"input\"\n                  v-model=\"buyerDetails.email\"\n                />\n              </div>\n            </div>\n\n            <div class=\"field\">\n              <label>Phone*</label>\n              <div class=\"control\">\n                <input type=\"text\" class=\"input\" v-model=\"buyerDetails.phone\" />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"column is-6\">\n            <div class=\"field\">\n              <label>Address*</label>\n              <div class=\"control\">\n                <input\n                  type=\"text\"\n                  class=\"input\"\n                  v-model=\"buyerDetails.address\"\n                />\n              </div>\n            </div>\n\n            <div class=\"field\">\n              <label>Zip code*</label>\n              <div class=\"control\">\n                <input\n                  type=\"text\"\n                  class=\"input\"\n                  v-model=\"buyerDetails.zipcode\"\n                />\n              </div>\n            </div>\n\n            <div class=\"field\">\n              <label>Place*</label>\n              <div class=\"control\">\n                <input type=\"text\" class=\"input\" v-model=\"buyerDetails.place\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div\n          class=\"notification is-danger mt-4\"\n          v-if=\"buyerDetails.errors.length\"\n        >\n          <p v-for=\"error in buyerDetails.errors\" v-bind:key=\"error\">\n            {{ error }}\n          </p>\n        </div>\n\n        <hr />\n\n        <div id=\"card-element\" class=\"mb-5\"></div>\n\n        <template v-if=\"cartTotalLength\">\n          <hr />\n\n          <button class=\"button is-dark\" @click=\"submitForm\">\n            Pay with Stripe\n          </button>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport http from \"@/utils/http\";\nimport { reactive, ref, onMounted, computed } from \"vue\";\nimport { useStore } from \"@/store\";\nimport router from \"@/router\";\n\nconst store = useStore();\n\nconst buyerDetails = reactive({\n  stripe: {},\n  card: {},\n  first_name: \"\",\n  last_name: \"\",\n  email: \"\",\n  phone: \"\",\n  address: \"\",\n  zipcode: \"\",\n  place: \"\",\n  errors: [],\n});\nconst cart = ref({ items: [] });\n\nonMounted(() => {\n  document.title = \"Checkout | Djackets\";\n\n  cart.value = store.cart;\n\n  if (cartTotalLength.value > 0) {\n    buyerDetails.stripe = Stripe(\n      \"pk_test_51Kn34eLYK7e5CI3yMMTCqZvFevruZPhSLtK0p9oVtDZwsJK8zt6Br0HNjNNOtGMNXPE8am7939XOuNK0AlvNcoOT00nzt4zfvr\"\n    );\n    const elements = buyerDetails.stripe.elements();\n    buyerDetails.card = elements.create(\"card\", { hidePostalCode: true });\n    buyerDetails.card.mount(\"#card-element\");\n  }\n});\n\nconst cartTotalLength = computed(() => {\n  return cart.value.items.reduce((acc, curVal) => {\n    return (acc += curVal.quantity);\n  }, 0);\n});\n\nconst cartTotalPrice = computed(() => {\n  return cart.value.items.reduce((acc, curVal) => {\n    return (acc += curVal.product.price * curVal.quantity);\n  }, 0);\n});\n\nconst getItemTotal = (item) => {\n  return item.quantity * item.product.price;\n};\n\nconst submitForm = () => {\n  buyerDetails.errors = [];\n  if (buyerDetails.first_name === \"\") {\n    buyerDetails.errors.push(\"The first name field is missing!\");\n  }\n  if (buyerDetails.last_name === \"\") {\n    buyerDetails.errors.push(\"The last name field is missing!\");\n  }\n  if (buyerDetails.email === \"\") {\n    buyerDetails.errors.push(\"The email field is missing!\");\n  }\n  if (buyerDetails.phone === \"\") {\n    buyerDetails.errors.push(\"The phone field is missing!\");\n  }\n  if (buyerDetails.address === \"\") {\n    buyerDetails.errors.push(\"The address field is missing!\");\n  }\n  if (buyerDetails.zipcode === \"\") {\n    buyerDetails.errors.push(\"The zip code field is missing!\");\n  }\n  if (buyerDetails.place === \"\") {\n    buyerDetails.errors.push(\"The place field is missing!\");\n  }\n\n  if (!buyerDetails.errors.length) {\n    store.setIsLoading(true);\n    buyerDetails.stripe.createToken(buyerDetails.card).then((result) => {\n      if (result.error) {\n        store.setIsLoading(false);\n        buyerDetails.errors.push(\n          \"Something went wrong with Stripe. Please try again\"\n        );\n        console.log(result.error.message);\n      } else {\n        stripeTokenHandler(result.token);\n      }\n    });\n  }\n};\n\nconst stripeTokenHandler = async (token) => {\n  const items = [];\n  for (let i = 0; i < cart.value.items.length; i++) {\n    const item = cart.value.items[i];\n    const obj = {\n      product: item.product.id,\n      quantity: item.quantity,\n      price: item.product.price * item.quantity,\n    };\n    items.push(obj);\n  }\n  const data = {\n    first_name: buyerDetails.first_name,\n    last_name: buyerDetails.last_name,\n    email: buyerDetails.email,\n    address: buyerDetails.address,\n    zipcode: buyerDetails.zipcode,\n    place: buyerDetails.place,\n    phone: buyerDetails.phone,\n    items: items,\n    stripe_token: token.id,\n  };\n  await http\n    .post(\"/v1/checkout/\", data)\n    .then((response) => {\n      store.clearCart();\n      router.push(\"/cart/success\");\n    })\n    .catch((error) => {\n      buyerDetails.errors.push(\"Something went wrong. Please try again\");\n      console.log(error);\n    });\n  store.setIsLoading(false);\n};\n</script>\n"]}]}