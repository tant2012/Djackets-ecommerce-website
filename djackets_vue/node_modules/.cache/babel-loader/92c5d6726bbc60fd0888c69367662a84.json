{"remainingRequest":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/terrence/playground/Djackets/djackets_vue/src/components/CartItem.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/terrence/playground/Djackets/djackets_vue/src/components/CartItem.vue","mtime":1649580889279},{"path":"/Users/terrence/playground/Djackets/djackets_vue/babel.config.js","mtime":1649483312732},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1649534107741},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1649534104873}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgInZ1ZSI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAiLi4vc3RvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGluaXRpYWxJdGVtOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgZW1pdHM6IFsncmVtb3ZlRnJvbUNhcnQnXSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoX19wcm9wcywgX3JlZikgewogICAgdmFyIGV4cG9zZSA9IF9yZWYuZXhwb3NlLAogICAgICAgIGVtaXRzID0gX3JlZi5lbWl0OwogICAgZXhwb3NlKCk7CiAgICB2YXIgcHJvcHMgPSBfX3Byb3BzOwogICAgdmFyIGl0ZW0gPSBwcm9wcy5pbml0aWFsSXRlbTsKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CgogICAgdmFyIGdldEl0ZW1Ub3RhbCA9IGZ1bmN0aW9uIGdldEl0ZW1Ub3RhbChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLnF1YW50aXR5ICogaXRlbS5wcm9kdWN0LnByaWNlOwogICAgfTsKCiAgICB2YXIgdXBkYXRlQ2FydCA9IGZ1bmN0aW9uIHVwZGF0ZUNhcnQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0JywgSlNPTi5zdHJpbmdpZnkoc3RvcmUuY2FydCkpOwogICAgfTsKCiAgICB2YXIgcmVtb3ZlRnJvbUNhcnQgPSBmdW5jdGlvbiByZW1vdmVGcm9tQ2FydCgpIHsKICAgICAgZW1pdHMoJ3JlbW92ZUZyb21DYXJ0JywgaXRlbSk7CiAgICAgIHVwZGF0ZUNhcnQoKTsKICAgIH07CgogICAgdmFyIGluY3JlbWVudFF1YW50aXR5ID0gZnVuY3Rpb24gaW5jcmVtZW50UXVhbnRpdHkoaXRlbSkgewogICAgICBpdGVtLnF1YW50aXR5ICs9IDE7CgogICAgICBpZiAoaXRlbS5xdWFudGl0eSA9PT0gMCkgewogICAgICAgIHJlbW92ZUZyb21DYXJ0KGl0ZW0pOwogICAgICB9CgogICAgICB1cGRhdGVDYXJ0KCk7CiAgICB9OwoKICAgIHZhciBkZWNyZW1lbnRRdWFudGl0eSA9IGZ1bmN0aW9uIGRlY3JlbWVudFF1YW50aXR5KGl0ZW0pIHsKICAgICAgaXRlbS5xdWFudGl0eSAtPSAxOwogICAgICB1cGRhdGVDYXJ0KCk7CiAgICB9OwoKICAgIHZhciBfX3JldHVybmVkX18gPSB7CiAgICAgIHByb3BzOiBwcm9wcywKICAgICAgZW1pdHM6IGVtaXRzLAogICAgICBpdGVtOiBpdGVtLAogICAgICBzdG9yZTogc3RvcmUsCiAgICAgIGdldEl0ZW1Ub3RhbDogZ2V0SXRlbVRvdGFsLAogICAgICB1cGRhdGVDYXJ0OiB1cGRhdGVDYXJ0LAogICAgICByZW1vdmVGcm9tQ2FydDogcmVtb3ZlRnJvbUNhcnQsCiAgICAgIGluY3JlbWVudFF1YW50aXR5OiBpbmNyZW1lbnRRdWFudGl0eSwKICAgICAgZGVjcmVtZW50UXVhbnRpdHk6IGRlY3JlbWVudFF1YW50aXR5LAogICAgICB1c2VTdG9yZTogdXNlU3RvcmUKICAgIH07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIF9fcmV0dXJuZWRfXzsKICB9Cn07"},{"version":3,"mappings":";AAmBA,OAAgB,KAAhB;AACA,SAASA,QAAT,QAAyB,UAAzB;;;;;;;;;;;;;AAUA,QAAIC,IAAI,GAAGC,KAAK,CAACC,WAAjB;AACA,QAAMC,KAAK,GAAGJ,QAAQ,EAAtB;;AAEA,QAAMK,YAAY,GAAG,SAAfA,YAAe,CAACJ,IAAD,EAAU;AAC7B,aAAOA,IAAI,CAACK,QAAL,GAAgBL,IAAI,CAACM,OAAL,CAAaC,KAApC;AACD,KAFD;;AAIA,QAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrBC,kBAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeT,KAAK,CAACU,IAArB,CAA7B;AACH,KAFD;;AAIA,QAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAK;AACxBC,WAAK,CAAC,gBAAD,EAAkBf,IAAlB,CAAL;AACAQ,gBAAU;AACb,KAHD;;AAKA,QAAMQ,iBAAiB,GAAG,SAApBA,iBAAoB,CAAChB,IAAD,EAAU;AAClCA,UAAI,CAACK,QAAL,IAAiB,CAAjB;;AACA,UAAIL,IAAI,CAACK,QAAL,KAAkB,CAAtB,EAAyB;AACvBS,sBAAc,CAACd,IAAD,CAAd;AACD;;AACDQ,gBAAU;AACX,KAND;;AAQA,QAAMS,iBAAiB,GAAG,SAApBA,iBAAoB,CAACjB,IAAD,EAAU;AAClCA,UAAI,CAACK,QAAL,IAAiB,CAAjB;AACAG,gBAAU;AACX,KAHD","names":["useStore","item","props","initialItem","store","getItemTotal","quantity","product","price","updateCart","localStorage","setItem","JSON","stringify","cart","removeFromCart","emits","incrementQuantity","decrementQuantity"],"sources":["/Users/terrence/playground/Djackets/djackets_vue/src/components/CartItem.vue"],"sourcesContent":["<template>\n  <tr>\n    <td>\n      <router-link :to=\"item.product.get_absolute_url\">{{\n        item.product.name\n      }}</router-link>\n    </td>\n    <td>${{ item.product.price }}</td>\n    <td>\n      {{ item.quantity }}\n      <a @click=\"decrementQuantity(item)\">-</a>\n      <a @click=\"incrementQuantity(item)\">+</a>\n    </td>\n    <td>{{ getItemTotal(item).toFixed(2) }}</td>\n    <td><button class=\"delete\" @click=\"removeFromCart(item)\"></button></td>\n  </tr>\n</template>\n\n<script setup>\nimport { } from \"vue\";\nimport { useStore } from \"../store\";\n\nconst props = defineProps({\n  initialItem: {\n    type: Object,\n  }\n});\n\nconst emits = defineEmits(['removeFromCart'])\n\nlet item = props.initialItem;\nconst store = useStore()\n\nconst getItemTotal = (item) => {\n  return item.quantity * item.product.price;\n};\n\nconst updateCart = () => {\n    localStorage.setItem('cart', JSON.stringify(store.cart))\n}\n\nconst removeFromCart = () =>{\n    emits('removeFromCart',item)\n    updateCart()\n}\n\nconst incrementQuantity = (item) => {\n  item.quantity += 1;\n  if (item.quantity === 0) {\n    removeFromCart(item);\n  }\n  updateCart();\n};\n\nconst decrementQuantity = (item) => {\n  item.quantity -= 1;\n  updateCart();\n};\n\n\n</script>\n\n<style></style>\n"]}]}