{"remainingRequest":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/thread-loader/dist/cjs.js!/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/terrence/playground/Djackets/djackets_vue/src/views/Cart.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/terrence/playground/Djackets/djackets_vue/src/views/Cart.vue","mtime":1649701708929},{"path":"/Users/terrence/playground/Djackets/djackets_vue/babel.config.js","mtime":1649483312732},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/thread-loader/dist/cjs.js","mtime":1649534107357},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1649534107741},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1649534104873}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB1bnJlZiBhcyBfdW5yZWYsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAicGFnZS1jYXJ0Igp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImNvbHVtbnMgaXMtbXVsdGlsaW5lIgp9OwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiY29sdW1ucyBpcy0xMiIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMSIsIHsKICBjbGFzczogInRpdGxlIgp9LCAiQ2FydCIpXSwgLTEpOwoKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJjb2x1bW4gaXMtMTIgYm94Igp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJ0YWJsZSBpcy1mdWxsd2lkdGgiCn07Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aGVhZCIsIG51bGwsIFsvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidHIiLCBudWxsLCBbLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIlByb2R1Y3QiKSwgLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIlByaWNlIiksIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICJRdWFudGl0eSIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAiVG90YWwiKV0pXSwgLTEpOwoKdmFyIF9ob2lzdGVkXzcgPSB7CiAga2V5OiAxCn07CnZhciBfaG9pc3RlZF84ID0gewogIGNsYXNzOiAiY29sdW1uIGlzLTEyIGJveCIKfTsKCnZhciBfaG9pc3RlZF85ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgyIiwgewogIGNsYXNzOiAic3VidGl0bGUiCn0sICJTdW1tYXJ5IiwgLTEpOwoKdmFyIF9ob2lzdGVkXzEwID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImhyIiwgbnVsbCwgbnVsbCwgLTEpOwoKdmFyIF9ob2lzdGVkXzExID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIlByb2NlZWQgdG8gY2hlY2tvdXQiKTsKCmltcG9ydCBDYXJ0SXRlbSBmcm9tICJAL2NvbXBvbmVudHMvQ2FydEl0ZW0iOwppbXBvcnQgeyByZWYsIG9uTW91bnRlZCwgY29tcHV0ZWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gIi4uL3N0b3JlIjsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfX3Byb3BzKSB7CiAgICB2YXIgY2FydCA9IHJlZih7CiAgICAgIGl0ZW1zOiBbXQogICAgfSk7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgY2FydC52YWx1ZSA9IHN0b3JlLmNhcnQ7CiAgICB9KTsKICAgIHZhciBjYXJ0VG90YWxMZW5ndGggPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBjYXJ0LnZhbHVlLml0ZW1zLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXJWYWwpIHsKICAgICAgICByZXR1cm4gYWNjICs9IGN1clZhbC5xdWFudGl0eTsKICAgICAgfSwgMCk7CiAgICB9KTsKICAgIHZhciBjYXJ0VG90YWxQcmljZSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGNhcnQudmFsdWUuaXRlbXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1clZhbCkgewogICAgICAgIHJldHVybiBhY2MgKz0gY3VyVmFsLnByb2R1Y3QucHJpY2UgKiBjdXJWYWwucXVhbnRpdHk7CiAgICAgIH0sIDApOwogICAgfSk7CgogICAgdmFyIHJlbW92ZUZyb21DYXJ0ID0gZnVuY3Rpb24gcmVtb3ZlRnJvbUNhcnQoaXRlbSkgewogICAgICBjYXJ0LnZhbHVlLml0ZW1zID0gY2FydC52YWx1ZS5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS5wcm9kdWN0LmlkICE9PSBpdGVtLnByb2R1Y3QuaWQ7CiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSkgewogICAgICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfaG9pc3RlZF8zLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX3VucmVmKGNhcnRUb3RhbExlbmd0aCkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJ0YWJsZSIsIF9ob2lzdGVkXzUsIFtfaG9pc3RlZF82LCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0Ym9keSIsIG51bGwsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KGNhcnQudmFsdWUuaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF91bnJlZihDYXJ0SXRlbSksIHsKICAgICAgICAgIGtleTogaXRlbS5wcm9kdWN0LmlkLAogICAgICAgICAgaW5pdGlhbEl0ZW06IGl0ZW0sCiAgICAgICAgICBvblJlbW92ZUZyb21DYXJ0OiByZW1vdmVGcm9tQ2FydAogICAgICAgIH0sIG51bGwsIDgsIFsiaW5pdGlhbEl0ZW0iXSk7CiAgICAgIH0pLCAxMjgpKV0pXSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygicCIsIF9ob2lzdGVkXzcsICJZb3VyIGNhcnQgaXMgZW1wdHkiKSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOCwgW19ob2lzdGVkXzksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInN0cm9uZyIsIG51bGwsICIkIiArIF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKGNhcnRUb3RhbFByaWNlKS50b0ZpeGVkKDIpKSwgMSksIF9jcmVhdGVUZXh0Vk5vZGUoIiwgIiArIF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKGNhcnRUb3RhbExlbmd0aCkpICsgIiBpdGVtcyAiLCAxKSwgX2hvaXN0ZWRfMTAsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICAgICAgdG86ICIvY2FydC9jaGVja291dCIsCiAgICAgICAgY2xhc3M6ICJidXR0b24gaXMtZGFyayIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfMTFdOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSldKV0pXSk7CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,OAAOA,QAAP,MAAqB,uBAArB;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,QAAzB,QAAyC,KAAzC;AACA,SAASC,QAAT,QAAyB,UAAzB;;;AAEA,QAAMC,IAAI,GAAGJ,GAAG,CAAC;AAAEK,WAAK,EAAE;AAAT,KAAD,CAAhB;AACA,QAAMC,KAAK,GAAGH,QAAQ,EAAtB;AAEAF,aAAS,CAAC,YAAM;AACdG,UAAI,CAACG,KAAL,GAAaD,KAAK,CAACF,IAAnB;AACD,KAFQ,CAAT;AAIA,QAAMI,eAAe,GAAGN,QAAQ,CAAC,YAAM;AACrC,aAAOE,IAAI,CAACG,KAAL,CAAWF,KAAX,CAAiBI,MAAjB,CAAwB,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAC9C,eAAQD,GAAG,IAAIC,MAAM,CAACC,QAAtB;AACD,OAFM,EAEJ,CAFI,CAAP;AAGD,KAJ+B,CAAhC;AAMA,QAAMC,cAAc,GAAGX,QAAQ,CAAC,YAAM;AACpC,aAAOE,IAAI,CAACG,KAAL,CAAWF,KAAX,CAAiBI,MAAjB,CAAwB,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAC9C,eAAQD,GAAG,IAAIC,MAAM,CAACG,OAAP,CAAeC,KAAf,GAAuBJ,MAAM,CAACC,QAA7C;AACD,OAFM,EAEJ,CAFI,CAAP;AAGD,KAJ8B,CAA/B;;AAOA,QAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD,EAAU;AAC/Bb,UAAI,CAACG,KAAL,CAAWF,KAAX,GAAmBD,IAAI,CAACG,KAAL,CAAWF,KAAX,CAAiBa,MAAjB,CACjB,UAACC,CAAD;AAAA,eAAOA,CAAC,CAACL,OAAF,CAAUM,EAAV,KAAiBH,IAAI,CAACH,OAAL,CAAaM,EAArC;AAAA,OADiB,CAAnB;AAGD,KAJD","names":["CartItem","ref","onMounted","computed","useStore","cart","items","store","value","cartTotalLength","reduce","acc","curVal","quantity","cartTotalPrice","product","price","removeFromCart","item","filter","i","id"],"sources":["/Users/terrence/playground/Djackets/djackets_vue/src/views/Cart.vue"],"sourcesContent":["<template>\n  <div class=\"page-cart\">\n    <div class=\"columns is-multiline\">\n      <div class=\"columns is-12\">\n        <h1 class=\"title\">Cart</h1>\n      </div>\n\n      <div class=\"column is-12 box\">\n        <table class=\"table is-fullwidth\" v-if=\"cartTotalLength\">\n          <thead>\n            <tr>\n              <th>Product</th>\n              <th>Price</th>\n              <th>Quantity</th>\n              <th>Total</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <CartItem\n              v-for=\"item in cart.items\"\n              :key=\"item.product.id\"\n              :initialItem=\"item\"\n              @removeFromCart=\"removeFromCart\"\n            />\n          </tbody>\n        </table>\n\n        <p v-else>Your cart is empty</p>\n      </div>\n\n      <div class=\"column is-12 box\">\n        <h2 class=\"subtitle\">Summary</h2>\n\n        <strong>${{ cartTotalPrice.toFixed(2) }}</strong\n        >, {{ cartTotalLength }} items\n        <hr />\n\n        <router-link to=\"/cart/checkout\" class=\"button is-dark\"\n          >Proceed to checkout</router-link\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport CartItem from \"@/components/CartItem\";\nimport { ref, onMounted, computed } from \"vue\";\nimport { useStore } from \"../store\";\n\nconst cart = ref({ items: [] });\nconst store = useStore();\n\nonMounted(() => {\n  cart.value = store.cart;\n});\n\nconst cartTotalLength = computed(() => {\n  return cart.value.items.reduce((acc, curVal) => {\n    return (acc += curVal.quantity);\n  }, 0);\n});\n\nconst cartTotalPrice = computed(() => {\n  return cart.value.items.reduce((acc, curVal) => {\n    return (acc += curVal.product.price * curVal.quantity);\n  }, 0);\n});\n\n\nconst removeFromCart = (item) => {\n  cart.value.items = cart.value.items.filter(\n    (i) => i.product.id !== item.product.id\n  );\n};\n\n\n</script>\n"]}]}