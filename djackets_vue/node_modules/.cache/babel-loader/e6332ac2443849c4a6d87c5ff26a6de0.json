{"remainingRequest":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/thread-loader/dist/cjs.js!/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/terrence/playground/Djackets/djackets_vue/src/views/MyAccount.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/terrence/playground/Djackets/djackets_vue/src/views/MyAccount.vue","mtime":1649701828840},{"path":"/Users/terrence/playground/Djackets/djackets_vue/babel.config.js","mtime":1649483312732},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/thread-loader/dist/cjs.js","mtime":1649534107357},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1649534107741},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1649534104873}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90ZXJyZW5jZS9wbGF5Z3JvdW5kL0RqYWNrZXRzL2RqYWNrZXRzX3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB1bnJlZiBhcyBfdW5yZWYsIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAicGFnZS1teS1hY2NvdW50Igp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImNvbHVtbnMgaXMtbXVsdGlsaW5lIgp9OwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiY29sdW1uIGlzLTEyIgp9LCBbLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgewogIGNsYXNzOiAidGl0bGUiCn0sICJNeSBBY2NvdW50IildLCAtMSk7Cgp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImNvbHVtbiBpcy0xMiIKfTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgyIiwgewogIGNsYXNzOiAic3VidGl0bGUiCn0sICJNeSBvcmRlcnMiLCAtMSk7CgppbXBvcnQgaHR0cCBmcm9tICJAL3V0aWxzL2h0dHAiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gIkAvc3RvcmUiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKaW1wb3J0IE9yZGVyU3VtbWFyeSBmcm9tICJAL2NvbXBvbmVudHMvT3JkZXJTdW1tYXJ5IjsKaW1wb3J0IHsgb25Nb3VudGVkLCByZWYgfSBmcm9tICJ2dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF9fcHJvcHMpIHsKICAgIHZhciBvcmRlcnMgPSByZWYoW10pOwogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKCiAgICB2YXIgbG9nb3V0ID0gZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICBodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl0gPSAiIjsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRva2VuIik7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VybmFtZSIpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlcmlkIik7CiAgICAgIHN0b3JlLnJlbW92ZVRva2VuKCk7CiAgICAgIHJvdXRlci5wdXNoKCIvIik7CiAgICB9OwoKICAgIHZhciBnZXRNeU9yZGVycyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0b3JlLnNldElzTG9hZGluZyh0cnVlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGh0dHAuZ2V0KCIvdjEvb3JkZXJzLyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIG9yZGVycy52YWx1ZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHN0b3JlLnNldElzTG9hZGluZyhmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gZ2V0TXlPcmRlcnMoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBkb2N1bWVudC50aXRsZSA9ICJNeSBhY2NvdW50IHwgVEdIb21pZSI7CiAgICAgIGdldE15T3JkZXJzKCk7CiAgICB9KTsKICAgIHJldHVybiBmdW5jdGlvbiAoX2N0eCwgX2NhY2hlKSB7CiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2hvaXN0ZWRfMywgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIGNsYXNzOiAiY29sdW1uIGlzLTEyIgogICAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgICAgIG9uQ2xpY2s6IGxvZ291dCwKICAgICAgICBjbGFzczogImJ1dHRvbiBpcy1kYW5nZXIiCiAgICAgIH0sICJMb2cgb3V0IildKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19ob2lzdGVkXzUsIChfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3Qob3JkZXJzLnZhbHVlLCBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX3VucmVmKE9yZGVyU3VtbWFyeSksIHsKICAgICAgICAgIGtleTogb3JkZXIuaWQsCiAgICAgICAgICBvcmRlcjogb3JkZXIKICAgICAgICB9LCBudWxsLCA4LCBbIm9yZGVyIl0pOwogICAgICB9KSwgMTI4KSldKV0pXSk7CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAoBA,OAAOA,IAAP,MAAiB,cAAjB;AACA,SAASC,QAAT,QAAyB,SAAzB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,SAASC,SAAT,EAAoBC,GAApB,QAA+B,KAA/B;;;AAEA,QAAMC,MAAM,GAAGD,GAAG,CAAC,EAAD,CAAlB;AACA,QAAME,KAAK,GAAGN,QAAQ,EAAtB;;AAEA,QAAMO,MAAM,GAAG,SAATA,MAAS,GAAM;AACnBR,UAAI,CAACS,QAAL,CAAcC,OAAd,CAAsBC,MAAtB,CAA6B,eAA7B,IAAgD,EAAhD;AACAC,kBAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,kBAAY,CAACC,UAAb,CAAwB,UAAxB;AACAD,kBAAY,CAACC,UAAb,CAAwB,QAAxB;AACAN,WAAK,CAACO,WAAN;AACAZ,YAAM,CAACa,IAAP,CAAY,GAAZ;AACD,KAPD;;AASA,QAAMC,WAAW;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAClBT,qBAAK,CAACU,YAAN,CAAmB,IAAnB;AADkB;AAAA,uBAGZjB,IAAI,CACPkB,GADG,CACC,aADD,EAEHC,IAFG,CAEE,UAACC,QAAD,EAAc;AAClBd,wBAAM,CAACe,KAAP,GAAeD,QAAQ,CAACE,IAAxB;AACD,iBAJG,EAKHC,KALG,CAKG,UAACC,KAAD,EAAW;AAChBC,yBAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,iBAPG,CAHY;;AAAA;AAWlBjB,qBAAK,CAACU,YAAN,CAAmB,KAAnB;;AAXkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAXD,WAAW;AAAA;AAAA;AAAA,OAAjB;;AAcAZ,aAAS,CAAC,YAAM;AACduB,cAAQ,CAACC,KAAT,GAAiB,sBAAjB;AAEAZ,iBAAW;AACZ,KAJQ,CAAT","names":["http","useStore","router","OrderSummary","onMounted","ref","orders","store","logout","defaults","headers","common","localStorage","removeItem","removeToken","push","getMyOrders","setIsLoading","get","then","response","value","data","catch","error","console","log","document","title"],"sources":["/Users/terrence/playground/Djackets/djackets_vue/src/views/MyAccount.vue"],"sourcesContent":["<template>\n  <div class=\"page-my-account\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-12\">\n        <h1 class=\"title\">My Account</h1>\n      </div>\n\n      <div class=\"column is-12\">\n        <button @click=\"logout\" class=\"button is-danger\">Log out</button>\n      </div>\n\n      <div class=\"column is-12\">\n        <h2 class=\"subtitle\">My orders</h2>\n        <OrderSummary v-for=\"order in orders\" :key=\"order.id\" :order=\"order\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport http from \"@/utils/http\";\nimport { useStore } from \"@/store\";\nimport router from \"@/router\";\nimport OrderSummary from \"@/components/OrderSummary\";\nimport { onMounted, ref } from \"vue\";\n\nconst orders = ref([]);\nconst store = useStore();\n\nconst logout = () => {\n  http.defaults.headers.common[\"Authorization\"] = \"\";\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"username\");\n  localStorage.removeItem(\"userid\");\n  store.removeToken();\n  router.push(\"/\");\n};\n\nconst getMyOrders = async () => {\n  store.setIsLoading(true);\n\n  await http\n    .get(\"/v1/orders/\")\n    .then((response) => {\n      orders.value = response.data;\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n  store.setIsLoading(false);\n};\n\nonMounted(() => {\n  document.title = \"My account | TGHomie\";\n\n  getMyOrders();\n});\n</script>\n"]}]}