{"remainingRequest":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/terrence/playground/Djackets/djackets_vue/src/views/Product.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/terrence/playground/Djackets/djackets_vue/src/views/Product.vue","mtime":1649502305734},{"path":"/Users/terrence/playground/Djackets/djackets_vue/babel.config.js","mtime":1649483312732},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649468629672},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1649468630544},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649468629672},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1649468630530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgcmVmLCBvbk1vdW50ZWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgaHR0cCBmcm9tICIuLi91dGlscy9odHRwIjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAiLi4vc3RvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF9fcHJvcHMsIF9yZWYpIHsKICAgIHZhciBleHBvc2UgPSBfcmVmLmV4cG9zZTsKICAgIGV4cG9zZSgpOwogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciBxdWFudGl0eSA9IHJlZigxKTsKICAgIHZhciBwcm9kdWN0ID0gcmVmKHt9KTsKCiAgICB2YXIgZ2V0UHJvZHVjdHMgPSBmdW5jdGlvbiBnZXRQcm9kdWN0cygpIHsKICAgICAgdmFyIGNhdGVnb3J5X3NsdWcgPSByb3V0ZXIuY3VycmVudFJvdXRlLnZhbHVlLnBhcmFtcy5jYXRlZ29yeV9zbHVnOwogICAgICB2YXIgcHJvZHVjdF9zbHVnID0gcm91dGVyLmN1cnJlbnRSb3V0ZS52YWx1ZS5wYXJhbXMucHJvZHVjdF9zbHVnOwogICAgICBodHRwLmdldCgiL3YxL3Byb2R1Y3RzLyIuY29uY2F0KGNhdGVnb3J5X3NsdWcsICIvIikuY29uY2F0KHByb2R1Y3Rfc2x1ZykpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcHJvZHVjdC52YWx1ZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBhZGRUb0NhcnQgPSBmdW5jdGlvbiBhZGRUb0NhcnQoKSB7CiAgICAgIGlmIChpc05hTihxdWFudGl0eS52YWx1ZSkgfHwgcXVhbnRpdHkudmFsdWUgPCAxKSB7CiAgICAgICAgcXVhbnRpdHkudmFsdWUgPSAxOwogICAgICB9CgogICAgICB2YXIgaXRlbSA9IHsKICAgICAgICBwcm9kdWN0OiBwcm9kdWN0LnZhbHVlLAogICAgICAgIHF1YW50aXR5OiBxdWFudGl0eS52YWx1ZQogICAgICB9OwogICAgICBzdG9yZS5hZGRUb0NhcnQoc3RvcmUuY2FydCwgaXRlbSk7CiAgICB9OwoKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGdldFByb2R1Y3RzKCk7CiAgICB9KTsKICAgIHZhciBfX3JldHVybmVkX18gPSB7CiAgICAgIHN0b3JlOiBzdG9yZSwKICAgICAgcXVhbnRpdHk6IHF1YW50aXR5LAogICAgICBwcm9kdWN0OiBwcm9kdWN0LAogICAgICBnZXRQcm9kdWN0czogZ2V0UHJvZHVjdHMsCiAgICAgIGFkZFRvQ2FydDogYWRkVG9DYXJ0LAogICAgICByZWY6IHJlZiwKICAgICAgb25Nb3VudGVkOiBvbk1vdW50ZWQsCiAgICAgIGh0dHA6IGh0dHAsCiAgICAgIHJvdXRlcjogcm91dGVyLAogICAgICB1c2VTdG9yZTogdXNlU3RvcmUKICAgIH07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIF9fcmV0dXJuZWRfXzsKICB9Cn07"},{"version":3,"mappings":";AA8BA,SAASA,GAAT,EAAcC,SAAd,QAA+B,KAA/B;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,QAAT,QAAyB,UAAzB;;;;;AAEA,QAAMC,KAAK,GAAGD,QAAQ,EAAtB;AACA,QAAIE,QAAQ,GAAGN,GAAG,CAAC,CAAD,CAAlB;AACA,QAAIO,OAAO,GAAGP,GAAG,CAAC,EAAD,CAAjB;;AAEA,QAAMQ,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,UAAMC,aAAa,GAAGN,MAAM,CAACO,YAAP,CAAoBC,KAApB,CAA0BC,MAA1B,CAAiCH,aAAvD;AACA,UAAMI,YAAY,GAAGV,MAAM,CAACO,YAAP,CAAoBC,KAApB,CAA0BC,MAA1B,CAAiCC,YAAtD;AAEAX,UAAI,CACDY,GADH,wBACuBL,aADvB,cACwCI,YADxC,GAEGE,IAFH,CAEQ,UAACC,QAAD,EAAc;AAClBT,eAAO,CAACI,KAAR,GAAgBK,QAAQ,CAACC,IAAzB;AACD,OAJH,EAKGC,KALH,CAKS,UAACC,KAAD,EAAW;AAChBC,eAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAPH;AAQD,KAZD;;AAcA,QAAMG,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,UAAIC,KAAK,CAACjB,QAAQ,CAACK,KAAV,CAAL,IAAyBL,QAAQ,CAACK,KAAT,GAAiB,CAA9C,EAAiD;AAC/CL,gBAAQ,CAACK,KAAT,GAAiB,CAAjB;AACD;;AACD,UAAMa,IAAI,GAAG;AACXjB,eAAO,EAAEA,OAAO,CAACI,KADN;AAEXL,gBAAQ,EAAEA,QAAQ,CAACK;AAFR,OAAb;AAIAN,WAAK,CAACiB,SAAN,CAAgBjB,KAAK,CAACoB,IAAtB,EAA2BD,IAA3B;AACD,KATD;;AAWAvB,aAAS,CAAC,YAAM;AACdO,iBAAW;AACZ,KAFQ,CAAT","names":["ref","onMounted","http","router","useStore","store","quantity","product","getProducts","category_slug","currentRoute","value","params","product_slug","get","then","response","data","catch","error","console","log","addToCart","isNaN","item","cart"],"sources":["/Users/terrence/playground/Djackets/djackets_vue/src/views/Product.vue"],"sourcesContent":["<template>\n  <div class=\"page-product\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-9\">\n        <figure class=\"image mb-6\"><img :src=\"product.get_image\" /></figure>\n\n        <h1 class=\"title\">{{ product.name }}</h1>\n\n        <p>{{ product.description }}</p>\n      </div>\n\n      <div class=\"column is-3\">\n        <h2 class=\"subtitle\">Information</h2>\n        <p><strong>Price:</strong>{{ product.price }}</p>\n\n        <div class=\"field has-addons mt-6\">\n          <div class=\"control\">\n            <input type=\"number\" class=\"input\" min=\"1\" v-model=\"quantity\" />\n          </div>\n\n          <div class=\"control\">\n            <a class=\"button is-dark\" @click=\"addToCart\">Add to cart</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport http from \"../utils/http\";\nimport router from \"@/router\";\nimport { useStore } from \"../store\";\n\nconst store = useStore();\nlet quantity = ref(1);\nlet product = ref({});\n\nconst getProducts = () => {\n  const category_slug = router.currentRoute.value.params.category_slug;\n  const product_slug = router.currentRoute.value.params.product_slug;\n\n  http\n    .get(`/v1/products/${category_slug}/${product_slug}`)\n    .then((response) => {\n      product.value = response.data;\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\nconst addToCart = () => {\n  if (isNaN(quantity.value) || quantity.value < 1) {\n    quantity.value = 1;\n  }\n  const item = {\n    product: product.value,\n    quantity: quantity.value,\n  };\n  store.addToCart(store.cart,item);\n};\n\nonMounted(() => {\n  getProducts();\n});\n</script>\n"]}]}