{"remainingRequest":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/terrence/playground/Djackets/djackets_vue/src/views/Cart.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/terrence/playground/Djackets/djackets_vue/src/views/Cart.vue","mtime":1649588939775},{"path":"/Users/terrence/playground/Djackets/djackets_vue/babel.config.js","mtime":1649483312732},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1649534107741},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1649534104873}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCBodHRwIGZyb20gIkAvdXRpbHMvaHR0cCI7CmltcG9ydCBDYXJ0SXRlbSBmcm9tICJAL2NvbXBvbmVudHMvQ2FydEl0ZW0iOwppbXBvcnQgeyByZWYsIG9uTW91bnRlZCwgY29tcHV0ZWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gIi4uL3N0b3JlIjsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfX3Byb3BzLCBfcmVmKSB7CiAgICB2YXIgZXhwb3NlID0gX3JlZi5leHBvc2U7CiAgICBleHBvc2UoKTsKICAgIHZhciBjYXJ0ID0gcmVmKHsKICAgICAgaXRlbXM6IFtdCiAgICB9KTsKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBjYXJ0LnZhbHVlID0gc3RvcmUuY2FydDsKICAgIH0pOwogICAgdmFyIGNhcnRUb3RhbExlbmd0aCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGNhcnQudmFsdWUuaXRlbXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1clZhbCkgewogICAgICAgIHJldHVybiBhY2MgKz0gY3VyVmFsLnF1YW50aXR5OwogICAgICB9LCAwKTsKICAgIH0pOwogICAgdmFyIGNhcnRUb3RhbFByaWNlID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gY2FydC52YWx1ZS5pdGVtcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY3VyVmFsKSB7CiAgICAgICAgcmV0dXJuIGFjYyArPSBjdXJWYWwucHJvZHVjdC5wcmljZSAqIGN1clZhbC5xdWFudGl0eTsKICAgICAgfSwgMCk7CiAgICB9KTsKCiAgICB2YXIgcmVtb3ZlRnJvbUNhcnQgPSBmdW5jdGlvbiByZW1vdmVGcm9tQ2FydChpdGVtKSB7CiAgICAgIGNhcnQudmFsdWUuaXRlbXMgPSBjYXJ0LnZhbHVlLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgIHJldHVybiBpLnByb2R1Y3QuaWQgIT09IGl0ZW0ucHJvZHVjdC5pZDsKICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBfX3JldHVybmVkX18gPSB7CiAgICAgIGNhcnQ6IGNhcnQsCiAgICAgIHN0b3JlOiBzdG9yZSwKICAgICAgY2FydFRvdGFsTGVuZ3RoOiBjYXJ0VG90YWxMZW5ndGgsCiAgICAgIGNhcnRUb3RhbFByaWNlOiBjYXJ0VG90YWxQcmljZSwKICAgICAgcmVtb3ZlRnJvbUNhcnQ6IHJlbW92ZUZyb21DYXJ0LAogICAgICBodHRwOiBodHRwLAogICAgICBDYXJ0SXRlbTogQ2FydEl0ZW0sCiAgICAgIHJlZjogcmVmLAogICAgICBvbk1vdW50ZWQ6IG9uTW91bnRlZCwKICAgICAgY29tcHV0ZWQ6IGNvbXB1dGVkLAogICAgICB1c2VTdG9yZTogdXNlU3RvcmUKICAgIH07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIF9fcmV0dXJuZWRfXzsKICB9Cn07"},{"version":3,"mappings":";;AA+CA,OAAOA,IAAP,MAAiB,cAAjB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,QAAzB,QAAyC,KAAzC;AACA,SAASC,QAAT,QAAyB,UAAzB;;;;;AAEA,QAAMC,IAAI,GAAGJ,GAAG,CAAC;AAAEK,WAAK,EAAE;AAAT,KAAD,CAAhB;AACA,QAAMC,KAAK,GAAGH,QAAQ,EAAtB;AAEAF,aAAS,CAAC,YAAM;AACdG,UAAI,CAACG,KAAL,GAAaD,KAAK,CAACF,IAAnB;AACD,KAFQ,CAAT;AAIA,QAAMI,eAAe,GAAGN,QAAQ,CAAC,YAAM;AACrC,aAAOE,IAAI,CAACG,KAAL,CAAWF,KAAX,CAAiBI,MAAjB,CAAwB,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAC9C,eAAQD,GAAG,IAAIC,MAAM,CAACC,QAAtB;AACD,OAFM,EAEJ,CAFI,CAAP;AAGD,KAJ+B,CAAhC;AAMA,QAAMC,cAAc,GAAGX,QAAQ,CAAC,YAAM;AACpC,aAAOE,IAAI,CAACG,KAAL,CAAWF,KAAX,CAAiBI,MAAjB,CAAwB,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAC9C,eAAQD,GAAG,IAAIC,MAAM,CAACG,OAAP,CAAeC,KAAf,GAAuBJ,MAAM,CAACC,QAA7C;AACD,OAFM,EAEJ,CAFI,CAAP;AAGD,KAJ8B,CAA/B;;AAOA,QAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD,EAAU;AAC/Bb,UAAI,CAACG,KAAL,CAAWF,KAAX,GAAmBD,IAAI,CAACG,KAAL,CAAWF,KAAX,CAAiBa,MAAjB,CACjB,UAACC,CAAD;AAAA,eAAOA,CAAC,CAACL,OAAF,CAAUM,EAAV,KAAiBH,IAAI,CAACH,OAAL,CAAaM,EAArC;AAAA,OADiB,CAAnB;AAGD,KAJD","names":["http","CartItem","ref","onMounted","computed","useStore","cart","items","store","value","cartTotalLength","reduce","acc","curVal","quantity","cartTotalPrice","product","price","removeFromCart","item","filter","i","id"],"sources":["/Users/terrence/playground/Djackets/djackets_vue/src/views/Cart.vue"],"sourcesContent":["<template>\n  <div class=\"page-cart\">\n    <div class=\"columns is-multiline\">\n      <div class=\"columns is-12\">\n        <h1 class=\"title\">Cart</h1>\n      </div>\n\n      <div class=\"column is-12 box\">\n        <table class=\"table is-fullwidth\" v-if=\"cartTotalLength\">\n          <thead>\n            <tr>\n              <th>Product</th>\n              <th>Price</th>\n              <th>Quantity</th>\n              <th>Total</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <CartItem\n              v-for=\"item in cart.items\"\n              :key=\"item.product.id\"\n              :initialItem=\"item\"\n              @removeFromCart=\"removeFromCart\"\n            />\n          </tbody>\n        </table>\n\n        <p v-else>Your cart is empty</p>\n      </div>\n\n      <div class=\"column is-12 box\">\n        <h2 class=\"subtitle\">Summary</h2>\n\n        <strong>${{ cartTotalPrice.toFixed(2) }}</strong\n        >, {{ cartTotalLength }} items\n        <hr />\n\n        <router-link to=\"/cart/checkout\" class=\"button is-dark\"\n          >Proceed to checkout</router-link\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport http from \"@/utils/http\";\nimport CartItem from \"@/components/CartItem\";\nimport { ref, onMounted, computed } from \"vue\";\nimport { useStore } from \"../store\";\n\nconst cart = ref({ items: [] });\nconst store = useStore();\n\nonMounted(() => {\n  cart.value = store.cart;\n});\n\nconst cartTotalLength = computed(() => {\n  return cart.value.items.reduce((acc, curVal) => {\n    return (acc += curVal.quantity);\n  }, 0);\n});\n\nconst cartTotalPrice = computed(() => {\n  return cart.value.items.reduce((acc, curVal) => {\n    return (acc += curVal.product.price * curVal.quantity);\n  }, 0);\n});\n\n\nconst removeFromCart = (item) => {\n  cart.value.items = cart.value.items.filter(\n    (i) => i.product.id !== item.product.id\n  );\n};\n\n\n</script>\n"]}]}