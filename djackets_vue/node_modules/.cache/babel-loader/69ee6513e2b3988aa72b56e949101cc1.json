{"remainingRequest":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/src/views/SignUp.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/src/views/SignUp.vue","mtime":1649702877215},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/babel.config.js","mtime":1649483312732},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1649534107741},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1649534104873}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgaHR0cCBmcm9tICJAL3V0aWxzL2h0dHAiOwppbXBvcnQgeyB0b2FzdCB9IGZyb20gImJ1bG1hLXRvYXN0IjsKaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tICJ2dWUiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoX19wcm9wcywgX3JlZikgewogICAgdmFyIGV4cG9zZSA9IF9yZWYuZXhwb3NlOwogICAgZXhwb3NlKCk7CiAgICB2YXIgdXNlckRhdGEgPSByZWFjdGl2ZSh7CiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBwYXNzd29yZDI6ICIiLAogICAgICBlcnJvcnM6IFtdCiAgICB9KTsKCiAgICB2YXIgc3VibWl0Rm9ybSA9IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHVzZXJEYXRhLmVycm9ycyA9IFtdOwoKICAgICAgaWYgKHVzZXJEYXRhLnVzZXJuYW1lID09PSAiIikgewogICAgICAgIHVzZXJEYXRhLmVycm9ycy5wdXNoKCJVc2VybmFtZSBjYW4ndCBiZSBlbXB0eSIpOwogICAgICB9CgogICAgICBpZiAodXNlckRhdGEucGFzc3dvcmQgPT09ICIiKSB7CiAgICAgICAgdXNlckRhdGEuZXJyb3JzLnB1c2goIlBhc3N3b3JkIGNhbid0IGJlIGVtcHR5Iik7CiAgICAgIH0KCiAgICAgIGlmICh1c2VyRGF0YS5wYXNzd29yZCAhPT0gdXNlckRhdGEucGFzc3dvcmQyKSB7CiAgICAgICAgdXNlckRhdGEuZXJyb3JzLnB1c2goIlRoZSBwYXNzd29yZHMgZG9lc24ndCBtYXRjaCIpOwogICAgICB9CgogICAgICBpZiAoIXVzZXJEYXRhLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICB2YXIgZm9ybURhdGEgPSB7CiAgICAgICAgICB1c2VybmFtZTogdXNlckRhdGEudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdXNlckRhdGEucGFzc3dvcmQKICAgICAgICB9OwogICAgICAgIGh0dHAucG9zdCgiL3YxL3VzZXJzLyIsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgdG9hc3QoewogICAgICAgICAgICBtZXNzYWdlOiAiQWNjb3VudCBzdWNjZXNzZnVsbHkgY3JlYXRlZCwgcGxlYXNlIGxvZyBpbiEiLAogICAgICAgICAgICB0eXBlOiAiaXMtc3VjY2VzcyIsCiAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLAogICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIKICAgICAgICAgIH0pOwogICAgICAgICAgcm91dGVyLnB1c2goIi9sb2ctaW4iKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgdXNlckRhdGEuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZXJyb3IucmVzcG9uc2UuZGF0YSkpOwogICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgIHVzZXJEYXRhLmVycm9ycy5wdXNoKCJTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiIpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9OwoKICAgIHZhciBfX3JldHVybmVkX18gPSB7CiAgICAgIHVzZXJEYXRhOiB1c2VyRGF0YSwKICAgICAgc3VibWl0Rm9ybTogc3VibWl0Rm9ybSwKICAgICAgaHR0cDogaHR0cCwKICAgICAgdG9hc3Q6IHRvYXN0LAogICAgICByZWFjdGl2ZTogcmVhY3RpdmUsCiAgICAgIHJvdXRlcjogcm91dGVyCiAgICB9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fcmV0dXJuZWRfXywgJ19faXNTY3JpcHRTZXR1cCcsIHsKICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHJldHVybiBfX3JldHVybmVkX187CiAgfQp9Ow=="},{"version":3,"mappings":";;AAsDA,OAAOA,IAAP,MAAiB,cAAjB;AACA,SAASC,KAAT,QAAsB,aAAtB;AACA,SAASC,QAAT,QAAyB,KAAzB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;;;;AAEA,QAAMC,QAAQ,GAAGF,QAAQ,CAAC;AACxBG,cAAQ,EAAE,EADc;AAExBC,cAAQ,EAAE,EAFc;AAGxBC,eAAS,EAAE,EAHa;AAIxBC,YAAM,EAAE;AAJgB,KAAD,CAAzB;;AAOA,QAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBL,cAAQ,CAACI,MAAT,GAAkB,EAAlB;;AAEA,UAAIJ,QAAQ,CAACC,QAAT,KAAsB,EAA1B,EAA8B;AAC5BD,gBAAQ,CAACI,MAAT,CAAgBE,IAAhB,CAAqB,yBAArB;AACD;;AACD,UAAIN,QAAQ,CAACE,QAAT,KAAsB,EAA1B,EAA8B;AAC5BF,gBAAQ,CAACI,MAAT,CAAgBE,IAAhB,CAAqB,yBAArB;AACD;;AACD,UAAIN,QAAQ,CAACE,QAAT,KAAsBF,QAAQ,CAACG,SAAnC,EAA8C;AAC5CH,gBAAQ,CAACI,MAAT,CAAgBE,IAAhB,CAAqB,6BAArB;AACD;;AACD,UAAI,CAACN,QAAQ,CAACI,MAAT,CAAgBG,MAArB,EAA6B;AAC3B,YAAMC,QAAQ,GAAG;AACfP,kBAAQ,EAAED,QAAQ,CAACC,QADJ;AAEfC,kBAAQ,EAAEF,QAAQ,CAACE;AAFJ,SAAjB;AAKAN,YAAI,CACDa,IADH,CACQ,YADR,EACsBD,QADtB,EAEGE,IAFH,CAEQ,UAACC,QAAD,EAAc;AAClBd,eAAK,CAAC;AACJe,mBAAO,EAAE,8CADL;AAEJC,gBAAI,EAAE,YAFF;AAGJC,uBAAW,EAAE,IAHT;AAIJC,wBAAY,EAAE,IAJV;AAKJC,oBAAQ,EAAE,IALN;AAMJC,oBAAQ,EAAE;AANN,WAAD,CAAL;AAQAlB,gBAAM,CAACO,IAAP,CAAY,SAAZ;AACD,SAZH,EAaGY,KAbH,CAaS,UAACC,KAAD,EAAW;AAChB,cAAIA,KAAK,CAACR,QAAV,EAAoB;AAClB,iBAAK,IAAMS,QAAX,IAAuBD,KAAK,CAACR,QAAN,CAAeU,IAAtC,EAA4C;AAC1CrB,sBAAQ,CAACI,MAAT,CAAgBE,IAAhB,WAAwBc,QAAxB,eAAqCD,KAAK,CAACR,QAAN,CAAeU,IAAf,CAAoBD,QAApB,CAArC;AACD;;AACDE,mBAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeN,KAAK,CAACR,QAAN,CAAeU,IAA9B,CAAZ;AACD,WALD,MAKO,IAAIF,KAAK,CAACP,OAAV,EAAmB;AACxBZ,oBAAQ,CAACI,MAAT,CAAgBE,IAAhB,CAAqB,wCAArB;AAEAgB,mBAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeN,KAAf,CAAZ;AACD;AACF,SAxBH;AAyBD;AACF,KA5CD","names":["http","toast","reactive","router","userData","username","password","password2","errors","submitForm","push","length","formData","post","then","response","message","type","dismissible","pauseOnHover","duration","position","catch","error","property","data","console","log","JSON","stringify"],"sources":["/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/src/views/SignUp.vue"],"sourcesContent":["<template>\n  <div class=\"page-sign-up\">\n    <div class=\"columns\">\n      <div class=\"column is-4 is-offset-4\">\n        <h1 class=\"title\">Sign up</h1>\n\n        <form @submit.prevent=\"submitForm\">\n          <div class=\"field\">\n            <label>Username</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"userData.username\" />\n            </div>\n          </div>\n          <div class=\"field\">\n            <label>Password</label>\n            <div class=\"control\">\n              <input\n                type=\"password\"\n                class=\"input\"\n                v-model=\"userData.password\"\n              />\n            </div>\n          </div>\n          <div class=\"field\">\n            <label>Confirm Password</label>\n            <div class=\"control\">\n              <input\n                type=\"password\"\n                class=\"input\"\n                v-model=\"userData.password2\"\n              />\n            </div>\n          </div>\n\n          <div class=\"notification is-danger\" v-if=\"userData.errors.length\">\n            <p v-for=\"error in userData.errors\" :key=\"error\">{{ error }}</p>\n          </div>\n\n          <div class=\"field\">\n            <div class=\"control\">\n              <button class=\"button is-dark\">Sign up</button>\n            </div>\n          </div>\n\n          <hr />\n\n          Or <router-link to=\"/log-in\">click here </router-link>to Log in!\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport http from \"@/utils/http\";\nimport { toast } from \"bulma-toast\";\nimport { reactive } from \"vue\";\nimport router from \"../router\";\n\nconst userData = reactive({\n  username: \"\",\n  password: \"\",\n  password2: \"\",\n  errors: [],\n});\n\nconst submitForm = () => {\n  userData.errors = [];\n\n  if (userData.username === \"\") {\n    userData.errors.push(\"Username can't be empty\");\n  }\n  if (userData.password === \"\") {\n    userData.errors.push(\"Password can't be empty\");\n  }\n  if (userData.password !== userData.password2) {\n    userData.errors.push(\"The passwords doesn't match\");\n  }\n  if (!userData.errors.length) {\n    const formData = {\n      username: userData.username,\n      password: userData.password,\n    };\n\n    http\n      .post(\"/v1/users/\", formData)\n      .then((response) => {\n        toast({\n          message: \"Account successfully created, please log in!\",\n          type: \"is-success\",\n          dismissible: true,\n          pauseOnHover: true,\n          duration: 2000,\n          position: \"bottom-right\",\n        });\n        router.push(\"/log-in\");\n      })\n      .catch((error) => {\n        if (error.response) {\n          for (const property in error.response.data) {\n            userData.errors.push(`${property}: ${error.response.data[property]}`);\n          }\n          console.log(JSON.stringify(error.response.data));\n        } else if (error.message) {\n          userData.errors.push(\"Something went wrong. Please try again\");\n\n          console.log(JSON.stringify(error));\n        }\n      });\n  }\n};\n</script>\n"]}]}