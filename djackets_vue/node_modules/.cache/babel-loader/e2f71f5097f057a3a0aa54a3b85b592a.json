{"remainingRequest":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/src/views/Login.vue?vue&type=template&id=26084dc2","dependencies":[{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/src/views/Login.vue","mtime":1649701823779},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/babel.config.js","mtime":1649483312732},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1649534107741},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1649534105035},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1649534104873}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycyB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAicGFnZS1sb2ctaW4iCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiY29sdW1ucyIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJjb2x1bW4gaXMtNCBpcy1vZmZzZXQtNCIKfTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgewogIGNsYXNzOiAidGl0bGUiCn0sICJMb2cgSW4iLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNSA9IFsib25TdWJtaXQiXTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJmaWVsZCIKfTsKCnZhciBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgbnVsbCwgIlVzZXJuYW1lIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJjb250cm9sIgp9Owp2YXIgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogImZpZWxkIgp9OwoKdmFyIF9ob2lzdGVkXzEwID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgbnVsbCwgIlBhc3N3b3JkIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzExID0gewogIGNsYXNzOiAiY29udHJvbCIKfTsKdmFyIF9ob2lzdGVkXzEyID0gewogIGtleTogMCwKICBjbGFzczogIm5vdGlmaWNhdGlvbiBpcy1kYW5nZXIiCn07Cgp2YXIgX2hvaXN0ZWRfMTMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiZmllbGQiCn0sIFsvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiY29udHJvbCIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCB7CiAgY2xhc3M6ICJidXR0b24gaXMtZGFyayIKfSwgIkxvZ2luIildKV0sIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJociIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xNSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgRG9uJ3QgaGF2ZSBhbiBhY2NvdW50PyAiKTsKCnZhciBfaG9pc3RlZF8xNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCJjbGljayBoZXJlICIpOwoKdmFyIF9ob2lzdGVkXzE3ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoInRvIFNpZ24gdXAhICIpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfaG9pc3RlZF80LCBfY3JlYXRlRWxlbWVudFZOb2RlKCJmb3JtIiwgewogICAgb25TdWJtaXQ6IF93aXRoTW9kaWZpZXJzKCRzZXR1cC5zdWJtaXRGb3JtLCBbInByZXZlbnQiXSkKICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW19ob2lzdGVkXzcsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzgsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAidGV4dCIsCiAgICBjbGFzczogImlucHV0IiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAudXNlckRhdGEudXNlcm5hbWUgPSAkZXZlbnQ7CiAgICB9KQogIH0sIG51bGwsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBbW192TW9kZWxUZXh0LCAkc2V0dXAudXNlckRhdGEudXNlcm5hbWVdXSldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF85LCBbX2hvaXN0ZWRfMTAsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzExLCBbX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgdHlwZTogInBhc3N3b3JkIiwKICAgIGNsYXNzOiAiaW5wdXQiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC51c2VyRGF0YS5wYXNzd29yZCA9ICRldmVudDsKICAgIH0pCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC51c2VyRGF0YS5wYXNzd29yZF1dKV0pXSksICRzZXR1cC51c2VyRGF0YS5lcnJvcnMubGVuZ3RoID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTIsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC51c2VyRGF0YS5lcnJvcnMsIGZ1bmN0aW9uIChlcnJvcikgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygicCIsIHsKICAgICAga2V5OiBlcnJvcgogICAgfSwgX3RvRGlzcGxheVN0cmluZyhlcnJvciksIDEKICAgIC8qIFRFWFQgKi8KICAgICk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9ob2lzdGVkXzEzLCBfaG9pc3RlZF8xNCwgX2hvaXN0ZWRfMTUsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICB0bzogIi9zaWduLXVwIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfaG9pc3RlZF8xNl07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2hvaXN0ZWRfMTddLCA0MAogIC8qIFBST1BTLCBIWURSQVRFX0VWRU5UUyAqLwogICwgX2hvaXN0ZWRfNSldKV0pXSk7Cn0="},{"version":3,"mappings":";;AACOA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;8BACTC,oBAA6B,IAA7B,EAA6B;AAAzBD,OAAK,EAAC;AAAmB,CAA7B,EAAkB,QAAlB,EAAwB;AAAA;AAAxB;;;;AAGOA,OAAK,EAAC;;;8BACTC,oBAAuB,OAAvB,EAAuB,IAAvB,EAAO,UAAP,EAAe;AAAA;AAAf;;;AACKD,OAAK,EAAC;;;AAIRA,OAAK,EAAC;;;+BACTC,oBAAuB,OAAvB,EAAuB,IAAvB,EAAO,UAAP,EAAe;AAAA;AAAf;;;AACKD,OAAK,EAAC;;;;AASRA,OAAK,EAAC;;;+BAIXC,oBAIM,KAJN,EAIM;AAJDD,OAAK,EAAC;AAIL,CAJN,EAAkB,cAChBC,oBAEM,KAFN,EAEM;AAFDD,OAAK,EAAC;AAEL,CAFN,EAAoB,cAClBC,oBAA6C,QAA7C,EAA6C;AAArCD,OAAK,EAAC;AAA+B,CAA7C,EAA+B,OAA/B,CADkB,CAApB,CADgB,CAAlB;;AAAA;;+BAMAC,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;AAAA;AAAN;;gDAAM;;gDAGqB;;gDAAyB;;;;;uBApC5DC,oBAwCM,KAxCN,cAwCM,CAvCJD,oBAsCM,KAtCN,cAsCM,CArCJA,oBAoCM,KApCN,cAoCM,CAnCJE,UAmCI,EAjCJF,oBAgCO,MAhCP,EAgCO;AAhCAG,YAAM,iBAAUC,iBAAV,EAAoB,WAApB;AAgCN,GAhCP,GACEJ,oBAKM,KALN,cAKM,CAJJK,UAII,EAHJL,oBAEM,KAFN,cAEM,iBADJA,oBAA+D,OAA/D,EAA+D;AAAxDM,QAAI,EAAC,MAAmD;AAA5CP,SAAK,EAAC,OAAsC;;aAArBK,gBAASG,WAAQC;;AAAI,GAA/D;;AAAA,oBAA0CJ,gBAASG,WAC/C,CAFN,CAGI,CALN,GAMAP,oBASM,KATN,cASM,CARJS,WAQI,EAPJT,oBAMM,KANN,eAMM,iBALJA,oBAIE,OAJF,EAIE;AAHAM,QAAI,EAAC,UAGL;AAFAP,SAAK,EAAC,OAEN;;aADSK,gBAASM,WAAQF;;AAC1B,GAJF;;AAAA,oBAGWJ,gBAASM,WAEhB,CANN,CAOI,CATN,GAW0CN,gBAASO,MAAT,CAAgBC,wBAA1DX,oBAEM,KAFN,eAEM,oBADJA,oBAAgEY,SAAhE,EAAgE,IAAhE,EAAgEC,YAA7CV,gBAASO,MAAoC,EAA9B,UAAxBI,KAAwB,EAAnB;yBAAfd,oBAAgE,GAAhE,EAAgE;AAA3Be,SAAG,EAAED;AAAsB,KAAhE,EAA+CE,iBAAKF,KAAL,CAA/C,EAAyD;AAAA;AAAzD;GAAgE,CAAhE;;AAAA,GACI,EAFN,wCAIAG,aAMAC,0BAGAC,aAAoDC,sBAApD,EAAoD;AAAvCC,MAAE,EAAC;AAAoC,GAApD,EAA0B;sBAAC;AAAA,aAAW,aAAX;AAAA,MAAD;;;;AAAA,GAA1B,eA/BF;;AAAA,eAiCI,CApCN,CAqCI,CAtCN,CAuCI,CAxCN","names":["class","_createElementVNode","_createElementBlock","_hoisted_4","onSubmit","$setup","_hoisted_7","type","username","$event","_hoisted_10","password","errors","length","_Fragment","_renderList","error","key","_toDisplayString","_hoisted_13","_hoisted_14","_createVNode","_component_router_link","to"],"sourceRoot":"","sources":["/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"page-log-in\">\n    <div class=\"columns\">\n      <div class=\"column is-4 is-offset-4\">\n        <h1 class=\"title\">Log In</h1>\n\n        <form @submit.prevent=\"submitForm\">\n          <div class=\"field\">\n            <label>Username</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"userData.username\" />\n            </div>\n          </div>\n          <div class=\"field\">\n            <label>Password</label>\n            <div class=\"control\">\n              <input\n                type=\"password\"\n                class=\"input\"\n                v-model=\"userData.password\"\n              />\n            </div>\n          </div>\n\n          <div class=\"notification is-danger\" v-if=\"userData.errors.length\">\n            <p v-for=\"error in userData.errors\" :key=\"error\">{{ error }}</p>\n          </div>\n\n          <div class=\"field\">\n            <div class=\"control\">\n              <button class=\"button is-dark\">Login</button>\n            </div>\n          </div>\n\n          <hr />\n\n          Don't have an account?\n          <router-link to=\"/sign-up\">click here </router-link>to Sign up!\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport http from \"@/utils/http\";\nimport { reactive, onMounted } from \"vue\";\nimport { useStore } from \"../store\";\nimport router from \"../router\";\n\nconst userData = reactive({\n  username: \"\",\n  password: \"\",\n  errors: [],\n});\n\nconst store = useStore();\n\nconst submitForm = async () => {\n  http.defaults.headers.common[\"Authorization\"] = \"\";\n  localStorage.removeItem(\"token\");\n  const formData = {\n    username: userData.username,\n    password: userData.password,\n  };\n  await http\n    .post(\"/v1/token/login/\", formData)\n    .then((response) => {\n      const token = response.data.auth_token;\n      store.setToken(token);\n\n      http.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\n      localStorage.setItem(\"token\", token);\n      const toPath = router.currentRoute.value.query.to || \"/cart\";\n      router.push(toPath);\n    })\n    .catch((error) => {\n      if (error.response) {\n        for (const property in error.response.data) {\n          userData.errors.push(`${property}: ${error.response.data[property]}`);\n        }\n      } else {\n        userData.errors.push(\"Something went wrong. Please try again\");\n\n        console.log(JSON.stringify(error));\n      }\n    });\n};\n\nonMounted(() => {\n  document.title = \"Log in | TGHomie\";\n});\n</script>\n"]}]}