{"remainingRequest":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/thread-loader/dist/cjs.js!/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/terrence/playground/Djackets/djackets_vue/src/components/CartItem.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/terrence/playground/Djackets/djackets_vue/src/components/CartItem.vue","mtime":1649587585487},{"path":"/Users/terrence/playground/Djackets/djackets_vue/babel.config.js","mtime":1649483312732},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/thread-loader/dist/cjs.js","mtime":1649534107357},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1649534107741},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1649534104873}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0IHsgdW5yZWYgYXMgX3VucmVmLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jayB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAiLi4vc3RvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGluaXRpYWxJdGVtOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgZW1pdHM6IFsncmVtb3ZlRnJvbUNhcnQnXSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoX19wcm9wcywgX3JlZikgewogICAgdmFyIGVtaXRzID0gX3JlZi5lbWl0OwogICAgdmFyIHByb3BzID0gX19wcm9wczsKICAgIHZhciBpdGVtID0gcHJvcHMuaW5pdGlhbEl0ZW07CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwoKICAgIHZhciBnZXRJdGVtVG90YWwgPSBmdW5jdGlvbiBnZXRJdGVtVG90YWwoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5xdWFudGl0eSAqIGl0ZW0ucHJvZHVjdC5wcmljZTsKICAgIH07CgogICAgdmFyIHVwZGF0ZUNhcnQgPSBmdW5jdGlvbiB1cGRhdGVDYXJ0KCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KHN0b3JlLmNhcnQpKTsKICAgIH07CgogICAgdmFyIHJlbW92ZUZyb21DYXJ0ID0gZnVuY3Rpb24gcmVtb3ZlRnJvbUNhcnQoKSB7CiAgICAgIGVtaXRzKCdyZW1vdmVGcm9tQ2FydCcsIGl0ZW0pOwogICAgICB1cGRhdGVDYXJ0KCk7CiAgICB9OwoKICAgIHZhciBpbmNyZW1lbnRRdWFudGl0eSA9IGZ1bmN0aW9uIGluY3JlbWVudFF1YW50aXR5KGl0ZW0pIHsKICAgICAgaXRlbS5xdWFudGl0eSArPSAxOwoKICAgICAgaWYgKGl0ZW0ucXVhbnRpdHkgPT09IDApIHsKICAgICAgICByZW1vdmVGcm9tQ2FydChpdGVtKTsKICAgICAgfQoKICAgICAgdXBkYXRlQ2FydCgpOwogICAgfTsKCiAgICB2YXIgZGVjcmVtZW50UXVhbnRpdHkgPSBmdW5jdGlvbiBkZWNyZW1lbnRRdWFudGl0eShpdGVtKSB7CiAgICAgIGl0ZW0ucXVhbnRpdHkgLT0gMTsKICAgICAgdXBkYXRlQ2FydCgpOwogICAgfTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSkgewogICAgICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidHIiLCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgICAgICB0bzogX3VucmVmKGl0ZW0pLnByb2R1Y3QuZ2V0X2Fic29sdXRlX3VybAogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKGl0ZW0pLnByb2R1Y3QubmFtZSksIDEpXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgIH0sIDgsIFsidG8iXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCAiJCIgKyBfdG9EaXNwbGF5U3RyaW5nKF91bnJlZihpdGVtKS5wcm9kdWN0LnByaWNlKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhfdW5yZWYoaXRlbSkucXVhbnRpdHkpICsgIiAiLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYSIsIHsKICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBkZWNyZW1lbnRRdWFudGl0eShfdW5yZWYoaXRlbSkpOwogICAgICAgIH0pCiAgICAgIH0sICItIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gaW5jcmVtZW50UXVhbnRpdHkoX3VucmVmKGl0ZW0pKTsKICAgICAgICB9KQogICAgICB9LCAiKyIpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhnZXRJdGVtVG90YWwoX3VucmVmKGl0ZW0pKS50b0ZpeGVkKDIpKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgICAgICBjbGFzczogImRlbGV0ZSIsCiAgICAgICAgb25DbGljazogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gcmVtb3ZlRnJvbUNhcnQoX3VucmVmKGl0ZW0pKTsKICAgICAgICB9KQogICAgICB9KV0pXSk7CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;AAmBA,SAASA,QAAT,QAAyB,UAAzB;;;;;;;;;;;AAUA,QAAIC,IAAI,GAAGC,KAAK,CAACC,WAAjB;AACA,QAAMC,KAAK,GAAGJ,QAAQ,EAAtB;;AAEA,QAAMK,YAAY,GAAG,SAAfA,YAAe,CAACJ,IAAD,EAAU;AAC7B,aAAOA,IAAI,CAACK,QAAL,GAAgBL,IAAI,CAACM,OAAL,CAAaC,KAApC;AACD,KAFD;;AAIA,QAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrBC,kBAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeT,KAAK,CAACU,IAArB,CAA7B;AACH,KAFD;;AAIA,QAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAK;AACxBC,WAAK,CAAC,gBAAD,EAAkBf,IAAlB,CAAL;AACAQ,gBAAU;AACb,KAHD;;AAKA,QAAMQ,iBAAiB,GAAG,SAApBA,iBAAoB,CAAChB,IAAD,EAAU;AAClCA,UAAI,CAACK,QAAL,IAAiB,CAAjB;;AACA,UAAIL,IAAI,CAACK,QAAL,KAAkB,CAAtB,EAAyB;AACvBS,sBAAc,CAACd,IAAD,CAAd;AACD;;AACDQ,gBAAU;AACX,KAND;;AAQA,QAAMS,iBAAiB,GAAG,SAApBA,iBAAoB,CAACjB,IAAD,EAAU;AAClCA,UAAI,CAACK,QAAL,IAAiB,CAAjB;AACAG,gBAAU;AACX,KAHD","names":["useStore","item","props","initialItem","store","getItemTotal","quantity","product","price","updateCart","localStorage","setItem","JSON","stringify","cart","removeFromCart","emits","incrementQuantity","decrementQuantity"],"sources":["/Users/terrence/playground/Djackets/djackets_vue/src/components/CartItem.vue"],"sourcesContent":["<template>\n  <tr>\n    <td>\n      <router-link :to=\"item.product.get_absolute_url\">{{\n        item.product.name\n      }}</router-link>\n    </td>\n    <td>${{ item.product.price }}</td>\n    <td>\n      {{ item.quantity }}\n      <a @click=\"decrementQuantity(item)\">-</a>\n      <a @click=\"incrementQuantity(item)\">+</a>\n    </td>\n    <td>{{ getItemTotal(item).toFixed(2) }}</td>\n    <td><button class=\"delete\" @click=\"removeFromCart(item)\"></button></td>\n  </tr>\n</template>\n\n<script setup>\nimport { useStore } from \"../store\";\n\nconst props = defineProps({\n  initialItem: {\n    type: Object,\n  }\n});\n\nconst emits = defineEmits(['removeFromCart'])\n\nlet item = props.initialItem;\nconst store = useStore()\n\nconst getItemTotal = (item) => {\n  return item.quantity * item.product.price;\n};\n\nconst updateCart = () => {\n    localStorage.setItem('cart', JSON.stringify(store.cart))\n}\n\nconst removeFromCart = () =>{\n    emits('removeFromCart',item)\n    updateCart()\n}\n\nconst incrementQuantity = (item) => {\n  item.quantity += 1;\n  if (item.quantity === 0) {\n    removeFromCart(item);\n  }\n  updateCart();\n};\n\nconst decrementQuantity = (item) => {\n  item.quantity -= 1;\n  updateCart();\n};\n\n\n</script>\n\n<style></style>\n"]}]}