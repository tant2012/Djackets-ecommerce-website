{"remainingRequest":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js!/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/src/components/CartItem.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/src/components/CartItem.vue","mtime":1649587585487},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/babel.config.js","mtime":1649483312732},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1649534107741},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1649534107580},{"path":"/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1649534104873}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gIi4uL3N0b3JlIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBpbml0aWFsSXRlbTogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIGVtaXRzOiBbJ3JlbW92ZUZyb21DYXJ0J10sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF9fcHJvcHMsIF9yZWYpIHsKICAgIHZhciBleHBvc2UgPSBfcmVmLmV4cG9zZSwKICAgICAgICBlbWl0cyA9IF9yZWYuZW1pdDsKICAgIGV4cG9zZSgpOwogICAgdmFyIHByb3BzID0gX19wcm9wczsKICAgIHZhciBpdGVtID0gcHJvcHMuaW5pdGlhbEl0ZW07CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwoKICAgIHZhciBnZXRJdGVtVG90YWwgPSBmdW5jdGlvbiBnZXRJdGVtVG90YWwoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5xdWFudGl0eSAqIGl0ZW0ucHJvZHVjdC5wcmljZTsKICAgIH07CgogICAgdmFyIHVwZGF0ZUNhcnQgPSBmdW5jdGlvbiB1cGRhdGVDYXJ0KCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KHN0b3JlLmNhcnQpKTsKICAgIH07CgogICAgdmFyIHJlbW92ZUZyb21DYXJ0ID0gZnVuY3Rpb24gcmVtb3ZlRnJvbUNhcnQoKSB7CiAgICAgIGVtaXRzKCdyZW1vdmVGcm9tQ2FydCcsIGl0ZW0pOwogICAgICB1cGRhdGVDYXJ0KCk7CiAgICB9OwoKICAgIHZhciBpbmNyZW1lbnRRdWFudGl0eSA9IGZ1bmN0aW9uIGluY3JlbWVudFF1YW50aXR5KGl0ZW0pIHsKICAgICAgaXRlbS5xdWFudGl0eSArPSAxOwoKICAgICAgaWYgKGl0ZW0ucXVhbnRpdHkgPT09IDApIHsKICAgICAgICByZW1vdmVGcm9tQ2FydChpdGVtKTsKICAgICAgfQoKICAgICAgdXBkYXRlQ2FydCgpOwogICAgfTsKCiAgICB2YXIgZGVjcmVtZW50UXVhbnRpdHkgPSBmdW5jdGlvbiBkZWNyZW1lbnRRdWFudGl0eShpdGVtKSB7CiAgICAgIGl0ZW0ucXVhbnRpdHkgLT0gMTsKICAgICAgdXBkYXRlQ2FydCgpOwogICAgfTsKCiAgICB2YXIgX19yZXR1cm5lZF9fID0gewogICAgICBwcm9wczogcHJvcHMsCiAgICAgIGVtaXRzOiBlbWl0cywKICAgICAgaXRlbTogaXRlbSwKICAgICAgc3RvcmU6IHN0b3JlLAogICAgICBnZXRJdGVtVG90YWw6IGdldEl0ZW1Ub3RhbCwKICAgICAgdXBkYXRlQ2FydDogdXBkYXRlQ2FydCwKICAgICAgcmVtb3ZlRnJvbUNhcnQ6IHJlbW92ZUZyb21DYXJ0LAogICAgICBpbmNyZW1lbnRRdWFudGl0eTogaW5jcmVtZW50UXVhbnRpdHksCiAgICAgIGRlY3JlbWVudFF1YW50aXR5OiBkZWNyZW1lbnRRdWFudGl0eSwKICAgICAgdXNlU3RvcmU6IHVzZVN0b3JlCiAgICB9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fcmV0dXJuZWRfXywgJ19faXNTY3JpcHRTZXR1cCcsIHsKICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHJldHVybiBfX3JldHVybmVkX187CiAgfQp9Ow=="},{"version":3,"mappings":";AAmBA,SAASA,QAAT,QAAyB,UAAzB;;;;;;;;;;;;;AAUA,QAAIC,IAAI,GAAGC,KAAK,CAACC,WAAjB;AACA,QAAMC,KAAK,GAAGJ,QAAQ,EAAtB;;AAEA,QAAMK,YAAY,GAAG,SAAfA,YAAe,CAACJ,IAAD,EAAU;AAC7B,aAAOA,IAAI,CAACK,QAAL,GAAgBL,IAAI,CAACM,OAAL,CAAaC,KAApC;AACD,KAFD;;AAIA,QAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrBC,kBAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeT,KAAK,CAACU,IAArB,CAA7B;AACH,KAFD;;AAIA,QAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAK;AACxBC,WAAK,CAAC,gBAAD,EAAkBf,IAAlB,CAAL;AACAQ,gBAAU;AACb,KAHD;;AAKA,QAAMQ,iBAAiB,GAAG,SAApBA,iBAAoB,CAAChB,IAAD,EAAU;AAClCA,UAAI,CAACK,QAAL,IAAiB,CAAjB;;AACA,UAAIL,IAAI,CAACK,QAAL,KAAkB,CAAtB,EAAyB;AACvBS,sBAAc,CAACd,IAAD,CAAd;AACD;;AACDQ,gBAAU;AACX,KAND;;AAQA,QAAMS,iBAAiB,GAAG,SAApBA,iBAAoB,CAACjB,IAAD,EAAU;AAClCA,UAAI,CAACK,QAAL,IAAiB,CAAjB;AACAG,gBAAU;AACX,KAHD","names":["useStore","item","props","initialItem","store","getItemTotal","quantity","product","price","updateCart","localStorage","setItem","JSON","stringify","cart","removeFromCart","emits","incrementQuantity","decrementQuantity"],"sources":["/Users/terrence/playground/learn-vue/vue-projects/Djackets/djackets_vue/src/components/CartItem.vue"],"sourcesContent":["<template>\n  <tr>\n    <td>\n      <router-link :to=\"item.product.get_absolute_url\">{{\n        item.product.name\n      }}</router-link>\n    </td>\n    <td>${{ item.product.price }}</td>\n    <td>\n      {{ item.quantity }}\n      <a @click=\"decrementQuantity(item)\">-</a>\n      <a @click=\"incrementQuantity(item)\">+</a>\n    </td>\n    <td>{{ getItemTotal(item).toFixed(2) }}</td>\n    <td><button class=\"delete\" @click=\"removeFromCart(item)\"></button></td>\n  </tr>\n</template>\n\n<script setup>\nimport { useStore } from \"../store\";\n\nconst props = defineProps({\n  initialItem: {\n    type: Object,\n  }\n});\n\nconst emits = defineEmits(['removeFromCart'])\n\nlet item = props.initialItem;\nconst store = useStore()\n\nconst getItemTotal = (item) => {\n  return item.quantity * item.product.price;\n};\n\nconst updateCart = () => {\n    localStorage.setItem('cart', JSON.stringify(store.cart))\n}\n\nconst removeFromCart = () =>{\n    emits('removeFromCart',item)\n    updateCart()\n}\n\nconst incrementQuantity = (item) => {\n  item.quantity += 1;\n  if (item.quantity === 0) {\n    removeFromCart(item);\n  }\n  updateCart();\n};\n\nconst decrementQuantity = (item) => {\n  item.quantity -= 1;\n  updateCart();\n};\n\n\n</script>\n\n<style></style>\n"]}]}